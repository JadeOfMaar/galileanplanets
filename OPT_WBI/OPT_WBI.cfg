// WBI for OPT Spaceplane
// Author: JadeOfMaar
// Version 1.0.0; Jan 22, 2018

// Removes dependency on Firespitter and Interstellar Fuel Switch.
// Supports only Snacks LS. Do not use with USI LS.
// Adds resource switching to all parts with few, OPT-specific templates to reduce clutter when picking modules.
// Cockpits and cabins get fuel, KIS and snacks options.
// Cockpits get AirPark feature.
// Cargo and hollow bays get fuel, KIS and snacks options.
// Remaining fuel tanks, inline SAS and wings get only fuel options.
// Labs get Doc Science Lab features.
// H cabin gets KIS and snacks options, and Geology lab, but no fuel.
// H noses get fuel, snacks and SAS options.
// Antenna gets WBI Geo scanner features.

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =   
// Tank Templates
OPT_TEMPLATE
{
	name = LFO
	author = JadeOfMaar
	shortName = LFO
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/LFO
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/LFOGlow
	description = This kit stores LiquidFuel and Oxidizer, required by most rocket engines, namely the Dark Drive.
	templateTags = stowage
	RESOURCE
	{
		 name = LiquidFuel
		 amount = 810
		 maxAmount = 810
	}
	RESOURCE
	{
		name = Oxidizer
		amount = 990
		maxAmount = 990
	}
}
OPT_TEMPLATE
{
	name = LiquidFuel
	author = JadeOfMaar
	shortName = LiquidFuel
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/LiquidFuel
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/LiquidFuelGlow
	description = This kit stores liquid fuel, required by OPT's mighty shcramjet engines and the Legacy ARI-73 rocket engine.
	templateTags = stowage
	RESOURCE
	{
		name = LiquidFuel
		amount = 1800
		maxAmount = 1800
	}
}
OPT_OX_TEMPLATE
{
	name = Oxidizer
	author = JadeOfMaar
	shortName = Oxidizer
	// logoPanel = WildBlueIndustries/000WildBlueTools/Decals/LiquidFuel
	// glowPanel = WildBlueIndustries/000WildBlueTools/Decals/LiquidFuelGlow
	description = This kit stores Oxidizer. It is only available to OPT drop tanks.
	templateTags = stowage
	RESOURCE
	{
		name = LiquidFuel
		amount = 1800
		maxAmount = 1800
	}
}
OPT_TEMPLATE
{
	name = MonoProp
	author = JadeOfMaar
	shortName = MonoPropellant
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/Monopropellant
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/MonopropellantGlow
	description = This kit stores MonoPropellant for OPT's power-hungry RCS blocks.
	templateTags = stowage
	RESOURCE
	{
		name = MonoPropellant
		amount = 1800
		maxAmount = 1800
	}
}
OPTSNACKS_TEMPLATE:NEEDS[Snacks]
{
	name = Snacks
	author = JadeOfMaar
	shortName = Snacks
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/LifeSupport
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/LifeSupportGlow
	description = This kit mainly stores Snacks but also provides some space for Soil.
	templateTags = stowage
	RESOURCE
	{
		name = Snacks
		amount = 1440
		maxAmount = 1440
	}
	RESOURCE
	{
		name = Soil
		amount = 0
		maxAmount = 360
	}
}
OPTKIS_TEMPLATE:NEEDS[KIS]
{
	name = KIS
	author = JadeOfMaar
	shortName = Storage
	title = Storage
	logoPanel = WildBlueIndustries/000WildBlueTools/Decals/Storage
	glowPanel = WildBlueIndustries/000WildBlueTools/Decals/StorageGlow
	requiresModule = ModuleKISInventory
	description = This kit stores, well, anything it can hold. OPT's staff and any passengers are afforded ample room to carry (usually) important luggage.
	isKISInventory = True
	templateTags = stowage
}

OPTSCI_TEMPLATE
{
	MODULE
	{
		name = WBIModuleScienceExperiment
		experimentID = WBIEmptyExperiment
		defaultExperiment = WBIEmptyExperiment
		experimentActionName = Do Nothing
		resetActionName = Reset Nothing
		useStaging = False
		useActionGroups = True
		hideUIwhenUnavailable = True
		xmitDataScalar = 0.0001
		dataIsCollectable = False
		interactionRange = 1.2
		rerunnable = False
		resettable = False
		usageReqMaskInternal = 1
		usageReqMaskExternal = 8
	}
	MODULE
	{
		name = WBIModuleScienceExperiment
		experimentID = WBIEmptyExperiment
		defaultExperiment = WBIEmptyExperiment
		experimentActionName = Do Nothing
		resetActionName = Reset Nothing
		useStaging = False
		useActionGroups = True
		hideUIwhenUnavailable = True
		xmitDataScalar = 0.0001
		dataIsCollectable = False
		interactionRange = 1.2
		rerunnable = False
		resettable = False
		usageReqMaskInternal = 1
		usageReqMaskExternal = 8
	}
	
	MODULE
	{
		name = WBIExperimentManifest
		defaultExperiment = WBIEmptyExperiment
	}
}

OPTSAS_TEMPLATE
{
	name = SAS
	author = JadeOfMaar
	// logoPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/Gyro
	// glowPanel = WildBlueIndustries/000WildBlueTools/CommonTemplates/Decals/Gyro
	description = This configuration provides a 1.25m equivalent reaction wheel set and extra battery packs.
	reconfigureSkill = ConverterSkill
	mass = 0.1
	requiredResource = Equipment
	requiredAmount = 4

	MODULE
	{
		name = ModuleReactionWheel
		PitchTorque = 30
		YawTorque = 30
		RollTorque = 30
		RESOURCE
		{
			name = ElectricCharge
			rate = 0.45
		}
	}
	RESOURCE
	{
		 name = ElectricCharge
		 amount = 1800
		 maxAmount = 1800
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Antenna
@PART[OPTantenna]:NEEDS[Pathfinder]
{
	MODULE
	{
		name = ModuleOrbitalSurveyor
		ScanTime = 90 // 60
		SciBonus = 20 // 25
	}

	MODULE
	{
		name = ModuleOrbitalScanner
		CheckForLock = true
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Cockpits
@PART[mk3Cockpit_Airliner]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    RESOURCE
	{
		name = ElectricCharge
		amount = 250
		maxAmount = 250
	}
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 4
		slotsY = 3
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = MonoProp
		capacityFactor = 0.16
		resourcesToKeep = ElectricCharge;Snacks;IntakeAir;IntakeAtm
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 400
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[a_cockpit]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {} 
	!RESOURCE[MonoPropellant] {} 
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    RESOURCE
	{
		name = ElectricCharge
		amount = 1000
		maxAmount = 1000
	}
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 4
		slotsY = 3
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = MonoProp
		capacityFactor = 0.25
		resourcesToKeep = ElectricCharge;Snacks;IntakeAir;IntakeAtm
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[b_cockpit]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    RESOURCE
	{
		name = ElectricCharge
		amount = 1500
		maxAmount = 1500
	}
	
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 6
		slotsY = 3
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.6
		resourcesToKeep = ElectricCharge;Snacks;IntakeAir;IntakeAtm
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1400
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[b_cockpit_qs]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {} 
	!RESOURCE[MonoPropellant] {} 
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	+MODULE[ModuleResourceIntake]:NEEDS[Pathfinder]
	{
		@resourceName = IntakeAtm
		!checkForOxygen = true
	}
	RESOURCE
	{
		name = ElectricCharge
		amount = 1500
		maxAmount = 1500
	}
	%RESOURCE[IntakeAir]
	{
		%amount = 5
		%maxAmount = 5
	}
	
	%RESOURCE[IntakeAtm]
	{
		%amount = 5
		%maxAmount = 5
	}
	
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 6
		slotsY = 3
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.6
		resourcesToKeep = ElectricCharge;Snacks;IntakeAir;IntakeAtm
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1400
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
	
	MODULE:NEEDS[Snacks]
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		UseSpecializationBonus = true
		SpecialistEfficiencyFactor = 0.1
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 4
	 
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.000034723
			FlowMode = ALL_VESSEL
  		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 12
		}

		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.000034723
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
}

@PART[i_4m_cockpit_isp|phoenix_cockpit|ils_cockpitv2]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	RESOURCE
	{
		name = ElectricCharge
		amount = 800
		maxAmount = 800
	}
	
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 4
		slotsY = 3
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.12
		resourcesToKeep = ElectricCharge;Snacks;IntakeAir;IntakeAtm
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 800
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[j_cockpit|j_cockpitv2|j_cockpit_qs_no_intake]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	RESOURCE
	{
		name = ElectricCharge
		amount = 1500
		maxAmount = 1500
	}
	
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 5
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.6
		resourcesToKeep = ElectricCharge;Snacks;IntakeAir;IntakeAtm
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1400
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
	
	MODULE:NEEDS[Snacks]
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		UseSpecializationBonus = true
		SpecialistEfficiencyFactor = 0.1
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 5
	 
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.000034723
			FlowMode = ALL_VESSEL
  		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 12
		}

		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.000034723
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
}

@PART[j_cockpit_qs|j_6m_cockpit]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	
	+MODULE[ModuleResourceIntake]:NEEDS[Pathfinder]
	{
		@resourceName = IntakeAtm
		!checkForOxygen = true
	}
	
	RESOURCE
	{
		name = ElectricCharge
		amount = 1500
		maxAmount = 1500
	}
	
	%RESOURCE[IntakeAir]
	{
		%amount = 5
		%maxAmount = 5
	}
	
	%RESOURCE[IntakeAtm]
	{
		%amount = 5
		%maxAmount = 5
	}
	
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 5
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.6
		resourcesToKeep = ElectricCharge;Snacks;IntakeAir;IntakeAtm
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1400
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
	
	MODULE:NEEDS[Snacks]
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		UseSpecializationBonus = true
		SpecialistEfficiencyFactor = 0.1
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 6
	 
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.000034723
			FlowMode = ALL_VESSEL
  		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 12
		}

		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.000034723
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
}

@PART[k_10m_cockpit|k_10m_cockpit_legacy|k_10m_cockpit_custom]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	+MODULE[ModuleResourceIntake]:NEEDS[Pathfinder]
	{
		@resourceName = IntakeAtm
		!checkForOxygen = true
	}
	
	RESOURCE
	{
		name = ElectricCharge
		amount = 2000
		maxAmount = 2000
	}
	
	%RESOURCE[IntakeAir]
	{
		%amount = 6
		%maxAmount = 6
	}
	
	%RESOURCE[IntakeAtm]
	{
		%amount = 6
		%maxAmount = 6
	}
	
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 6
		slotsY = 3
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.6
		resourcesToKeep = ElectricCharge;Snacks;IntakeAir;IntakeAtm
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1400
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[l_8m_cockpit]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	
	+MODULE[ModuleResourceIntake]:NEEDS[Pathfinder]
	{
		@resourceName = IntakeAtm
		!checkForOxygen = true
	}
	
	RESOURCE
	{
		name = ElectricCharge
		amount = 2000
		maxAmount = 2000
	}
	
	%RESOURCE[IntakeAir]
	{
		%amount = 6
		%maxAmount = 6
	}
	
	%RESOURCE[IntakeAtm]
	{
		%amount = 6
		%maxAmount = 6
	}
    
	MODULE
	{
		name = WBIAirParkController
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 5
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.6
		resourcesToKeep = ElectricCharge;Snacks;IntakeAir;IntakeAtm
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 6000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
	
	MODULE:NEEDS[Snacks]
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		UseSpecializationBonus = true
		SpecialistEfficiencyFactor = 0.1
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 10
	 
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.000034723
			FlowMode = ALL_VESSEL
  		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 12
		}

		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.000034723
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Labs
@PART[j_4m_lab|b_4m_lab]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	!MODULE[ModuleScienceConverter] {}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 4000
		externalAccess = true
		internalAccess = true
		slotsX = 5
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIScienceConverter
		scientistBonus = 0.25	//Bonus per scientist star - need at least one! So 0.25x - 2.5x 
		researchTime = 7	//Larger = slower.Exponential!
		scienceMultiplier = 5	//How much science does data turn into?
		fundsPerData = 100.0 // How many Funds per point of data 
		reputationPerData = 1.0//How much Reputation per point of data
		scienceCap = 1050	//How much science can we store before having to transmit?		
		powerRequirement = 5	//EC/Sec to research
		ConverterName = Research
		StartActionName = Start Research
		StopActionName = Stop Research
	}
	
	MODULE
	{
		name = WBIMultipurposeLab
		enableLogging = True
		showGUI = True
		// isInflatable = False
		// animationName = 
		// startEventGUIName = Initialize
		// endEventGUIName = De-initialize
		
		// inflatedCrewCapacity = 2
		capacityFactor = 1.0
		fieldReconfigurable = true
		
		templateNodes = PATH_SCIENCE
		defaultTemplate = DocScience
		
		logoPanelTransforms = // logoPanel001, logoPanel002, logoPanel003, logoPanel004
		decalsVisible = False
		
		// If KIS mode
		baseStorage = 4000
		maxStorage = 4000
		
		resourcesToKeep = ElectricCharge;Snacks
	}
	
	MODULE
	{
		name = WBIEfficiencyMonitor
		efficiencyType = science
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Bays
@PART[j_4m_cargo|j_4m_service]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 5
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.6
		resourcesToKeep = ElectricCharge;Snacks;IntakeAir;IntakeAtm
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 4000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[k_3m_fuselage|kh_3m_fuselage|k_3m_cargo|kh_3m_cargo|kh_7m_cargoTail_variant]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 5
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.6
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 10000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[kh_6m_cargo|kh_6m_fuselage|k_6m_cargo|k_6m_fuselage|l_6m_cargo|l_6m_fuselage]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 5
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 1.4
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 20000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Cabins
@PART[h_3m_crew_mm|h_3m_crew_fm]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	//Biome scanner is what you need to unlock a biome
	MODULE
	{
		name = ModuleBiomeScanner
		moduleIsEnabled = false
		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = CrewCabScienceUpgrade
				description__ = The Crew Cabin now performs Geo-surveys
				moduleIsEnabled = true
			}
		}
	}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 5
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = KIS
		capacityFactor = 0.6
		resourcesToKeep = ElectricCharge;Snacks;
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 3000
	}
	
	MODULE:NEEDS[Snacks]
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		UseSpecializationBonus = true
		SpecialistEfficiencyFactor = 0.1
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 4
	 
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.000034723
			FlowMode = ALL_VESSEL
  		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 12
		}

		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.000034723
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
}

@PART[j_4m_crew]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 5
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.6
		resourcesToKeep = ElectricCharge;Snacks;IntakeAir;IntakeAtm
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 6000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
	
	MODULE:NEEDS[Snacks]
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		UseSpecializationBonus = true
		SpecialistEfficiencyFactor = 0.1
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 8
	 
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.000034723
			FlowMode = ALL_VESSEL
  		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 12
		}

		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.000034723
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
}

@PART[l_6m_crew]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
    
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 5
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTKIS_TEMPLATE;OPTSNACKS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 1.4
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 18000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
	
	MODULE:NEEDS[Snacks]
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		UseSpecializationBonus = true
		SpecialistEfficiencyFactor = 0.1
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 8
	 
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.000034723
			FlowMode = ALL_VESSEL
  		}

		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 12
		}

		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.000034723
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Tanks
@PART[ab_3m_adaptor]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.8
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[h_2m_em_mm|h_2m_em_fm|h_2m_nose_mm|h_2m_nose_fm]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTSNACKS_TEMPLATE;OPTSAS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.16
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[h_3m_fuel_mm|h_3m_fuel_fm]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTSNACKS_TEMPLATE;OPTKIS_TEMPLATE;OPTSAS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.44
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 6000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[h_4m_nose_mm|h_4m_nose_fm]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	
	MODULE:NEEDS[KIS]
	{
		name = ModuleKISInventory
		maxVolume = 100
		externalAccess = true
		internalAccess = true
		slotsX = 5
		slotsY = 4
		slotSize = 50
		itemIconResolution = 128
		selfIconResolution = 128
		openSndPath = KIS/Sounds/containerOpen
		closeSndPath = KIS/Sounds/containerClose
		defaultMoveSndPath = KIS/Sounds/itemMove
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTSNACKS_TEMPLATE;OPTKIS_TEMPLATE;OPTSAS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.48
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 2000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[mk2_nose_opt]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPTSAS_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.2
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 2000
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[b2_adaptor|b2_4m_adaptor_variant|ij_adaptor|ij_4m_adaptor_variant|i_4m_tail|j_2m_bicoupler|b_engineMount_4|j_engineMount_4|k_3m_tricoupler|mk2b_adaptor]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.6
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[j_2m_tanks]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.7
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[a_6m_tanks|b_4m_tanks|c_6m_cargo|c_6m_tanks|j_4m_tanks|k_6m_cargo|l_6m_cargo|l_6m_fuselage|jl_3m_adaptor]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 1.4
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[a_cockpit_adaptor]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	
	RESOURCE
	{
		name = ElectricCharge
		amount = 2000
		maxAmount = 2000
	}
	
	%RESOURCE[IntakeAir]
	{
		%amount = 6
		%maxAmount = 6
	}
	
	%RESOURCE[IntakeAtm]
	{
		%amount = 6
		%maxAmount = 6
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 1.4
		resourcesToKeep = ElectricCharge;Snacks;IntakeAir;IntakeAtm
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[j_docking_port]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.32
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[c_6m_cargoTail|j_deploymentBay|j_large_docking_port|j_5m_nose|j_5m_tail|k_7m_cargoTail_variant]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.4
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[jk_3m_adaptor|k_2m_bicoupler|k_3m_fuelTank]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 1.2
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[ab_7m_adaptor|c_2m_bicoupler|jk_7m_adaptor|jl_7m_adaptor]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 2.4
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[k_6m_fuelTank]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 2.6
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Wings
@PART[opt_wing_a]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.32
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[opt_pylon_a]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 1
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[opt_wing_b|opt_pylon_b]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.4
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[opt_wing_c]:NEEDS[Pathfinder]
{
	!RESOURCE[ElectricCharge] {}
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.6
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Inline SAS
@PART[k_oms_hollow|kh_oms_hollow]:NEEDS[Pathfinder]
{
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	
	%RESOURCE[ElectricCharge]
	{
		%amount = 2000
		%maxAmount = 2000
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.32
		resourcesToKeep = ElectricCharge
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

@PART[k_oms|l_oms_hollow]:NEEDS[Pathfinder]
{
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	!RESOURCE[MonoPropellant] {}
	!MODULE[FSfuelSwitch] {}
	!MODULE[InterstellarFuelSwitch] {}
	
	%RESOURCE[ElectricCharge]
	{
		%amount = 2000
		%maxAmount = 2000
	}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE
		defaultTemplate = LFO
		capacityFactor = 0.7
		resourcesToKeep = ElectricCharge
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}

// =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  =  
// Drop Tanks
@PART[OPTdropTank]:NEEDS[Pathfinder]
{
	!RESOURCE,* {}
	!MODULE[FSmeshSwitch] {}
	!MODULE[FSfuelSwitch] {}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPT_OX_TEMPLATE
		defaultTemplate = LiquidFuel
		capacityFactor = 0.15
		resourcesToKeep = ElectricCharge
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}
@PART[OPTdropTank2]:NEEDS[Pathfinder]
{
	!RESOURCE,* {}
	!MODULE[FSmeshSwitch] {}
	!MODULE[FSfuelSwitch] {}
	
	MODULE
	{
		name = WBIMultipurposeStorage
		enableLogging = True
		isInflatable = False
		fieldReconfigurable = True
		confirmResourceSwitch = True
		showGUI = True
		
		// Tanks
		templateNodes = OPT_TEMPLATE;OPT_OX_TEMPLATE
		defaultTemplate = LiquidFuel
		capacityFactor = 0.3
		resourcesToKeep = ElectricCharge
		
		// If KIS mode
		baseStorage = 0.001
		maxStorage = 1
	}

	MODULE
	{
		name = WBIResourceDistributor
		resourceBlacklist = ReplacementParts
	}
}